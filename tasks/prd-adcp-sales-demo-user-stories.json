{
  "project": "AdCP Sales Demo",
  "branchName": "ralph/adcp-sales-demo",
  "description": "AdCP Sales Agent Demo - Two-window demo system showing AI agents interacting with DSPs via natural language using Ad Context Protocol",
  "userStories": [
    {
      "id": "US-001",
      "title": "Set up MCP Server with Express + Socket.io",
      "description": "As a developer, I need a backend server that can handle tool requests and broadcast real-time updates so that both frontend pages stay synchronized.",
      "acceptanceCriteria": [
        "Express server running on configurable port (default 3001)",
        "Socket.io integrated for WebSocket connections",
        "CORS configured for frontend access",
        "Server logs connections and tool calls",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Load and serve mock data from JSON",
      "description": "As a developer, I need the backend to load mock data at startup so that all tools have consistent data to work with.",
      "acceptanceCriteria": [
        "Loads data/adcp_demo_complete_data.json on server startup",
        "Maintains in-memory state for mutations (updates, creates)",
        "Provides reset endpoint to restore original data",
        "State persists across tool calls within a session",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Implement get_products tool",
      "description": "As an AI agent, I want to query available advertising products so that I can help users discover inventory options.",
      "acceptanceCriteria": [
        "Tool accepts optional category parameter (Sports, News, Technology, etc.)",
        "Tool accepts optional max_cpm parameter for price filtering",
        "Returns array of products with: product_id, name, description, category, pricing_options, formats, targeting_capabilities, minimum_budget",
        "Returns 8 products when no filters applied",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Implement list_creative_formats tool",
      "description": "As an AI agent, I want to query available ad formats so that I can help users understand creative specifications.",
      "acceptanceCriteria": [
        "Tool accepts optional type parameter (display, video, native, audio)",
        "Returns array of formats with: format_id, name, type, dimensions/duration, file_types, specs",
        "Returns 14 formats when no filters applied",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Implement list_authorized_properties tool",
      "description": "As an AI agent, I want to query accessible publisher properties so that I can help users understand where their ads can appear.",
      "acceptanceCriteria": [
        "Tool requires no parameters",
        "Returns array of properties with: property_id, name, domain, category, monthly_uniques, authorization_level, available_formats, audience",
        "Returns 10 properties",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Implement get_media_buy_delivery tool",
      "description": "As an AI agent, I want to retrieve performance metrics so that I can help users monitor campaign health.",
      "acceptanceCriteria": [
        "Tool accepts optional media_buy_id parameter",
        "If media_buy_id provided, returns metrics for that specific media buy",
        "If media_buy_id omitted, returns metrics for all media buys",
        "Returns: total_budget, total_spend, pacing, health, summary (CTR, CPM, CPA), by_device breakdown, by_geo breakdown, recommendations",
        "Returns data for 5 existing media buys",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Implement create_media_buy tool",
      "description": "As an AI agent, I want to create new media buys so that I can help users launch campaigns programmatically.",
      "acceptanceCriteria": [
        "Tool accepts required parameters: brand_name, product_id, budget, targeting, start_time, end_time",
        "Generates unique media_buy_id in format mb_YYYYMMDD_###",
        "Returns: media_buy_id, status (submitted), estimated_impressions",
        "Broadcasts media_buy_created WebSocket event to all connected clients",
        "New media buy appears in mock data state",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Implement update_media_buy tool with WebSocket broadcast",
      "description": "As an AI agent, I want to modify existing media buys so that I can help users optimize campaign performance in real-time.",
      "acceptanceCriteria": [
        "Tool accepts required media_buy_id parameter",
        "Tool accepts updates object with optional fields: remove_geo, add_geo, adjust_bid, set_daily_cap, shift_budget",
        "Updates mock data state accordingly",
        "Calculates and returns estimated_impact",
        "Returns: success, changes_applied array, estimated_impact string",
        "Broadcasts media_buy_updated WebSocket event to ALL connected clients",
        "Dashboard updates within 500ms of tool execution",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Implement provide_performance_feedback tool",
      "description": "As an AI agent, I want to submit conversion data so that I can help users provide feedback signals to the platform.",
      "acceptanceCriteria": [
        "Tool accepts required parameters: media_buy_id, feedback_type (conversion_data | lead_quality | brand_lift), data object",
        "Generates unique feedback_id",
        "Updates delivery metrics based on feedback (e.g., CPA recalculation)",
        "Returns: feedback_id, status (processed), impact string",
        "Broadcasts feedback_submitted WebSocket event to all connected clients",
        "Typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Create Next.js project with Tailwind + shadcn/ui",
      "description": "As a developer, I need a frontend project setup so that I can build the UI components.",
      "acceptanceCriteria": [
        "Next.js 14+ project initialized with App Router",
        "Tailwind CSS configured with Claude.ai color palette (#F5F4EF, #1A1915, #DA7756, etc.)",
        "shadcn/ui installed and configured",
        "TypeScript enabled with strict mode",
        "Project runs with npm run dev",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Build dark sidebar navigation component",
      "description": "As a user viewing the dashboard, I want a professional sidebar navigation so that the interface feels like a real DSP platform.",
      "acceptanceCriteria": [
        "Sidebar width: 220px",
        "Background: #1A1915 (warm black)",
        "Logo/brand AdCP Demo at top",
        "Navigation sections: Trading (Media Buys, Products, Formats, Properties), Setup (Creatives, Advertisers)",
        "Active item highlighted with #DA7756 (Claude orange)",
        "Hover states on nav items",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 11,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Build data table with media buys",
      "description": "As a user viewing the dashboard, I want to see all media buys in a professional table so that I can monitor their status at a glance.",
      "acceptanceCriteria": [
        "Table container: #FFFFFF background, 12px radius, subtle shadow",
        "Columns: Status toggle, ID, Advertiser, Campaign, Spend/Budget, Pacing bar, Health dot",
        "Header: 12px uppercase, #5D5D5A text, #FAF9F7 background",
        "Rows: 60px height, hover state #F5F4EF",
        "Displays all 5 media buys from mock data",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 12,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Add status toggles and health indicators",
      "description": "As a user viewing the dashboard, I want visual indicators for campaign status and health so that I can quickly identify issues.",
      "acceptanceCriteria": [
        "Status toggle: 40px x 22px, #DA7756 when active, #D4D3CE when paused",
        "Toggle animates smoothly (200ms ease-out)",
        "Health dots: 10px solid circles",
        "Green (#22863A) for good, Yellow (#D97706) for warning, Red (#DC2626) for poor",
        "Tooltip shows health status text on hover",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 13,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Add pacing bars and spend display",
      "description": "As a user viewing the dashboard, I want to see budget progress visually so that I can understand spend rates.",
      "acceptanceCriteria": [
        "Pacing bar: 80px x 6px, rounded, #EEEEE8 background",
        "Fill colors: Green (#22863A) for 0-80%, Amber (#D97706) for 80-100%, Red (#DC2626) for >100%",
        "Spend text: $X / $Y format with percentage",
        "Bar width animates smoothly when value changes (500ms ease)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 14,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Add filter bar with search and dropdowns",
      "description": "As a user viewing the dashboard, I want filtering options so that I can find specific media buys quickly.",
      "acceptanceCriteria": [
        "Search input: 280px width, 40px height, magnifying glass icon, placeholder Search media buys...",
        "Advertiser dropdown filter",
        "Status dropdown filter (All, Active, Paused)",
        "Clear filters link in #DA7756",
        "Focus state: border #DA7756",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 15,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Add connection status bar",
      "description": "As a user viewing the dashboard, I want to see WebSocket connection status so that I know if real-time updates are working.",
      "acceptanceCriteria": [
        "Fixed at bottom of content area",
        "Background: #FAF9F7, border-top: 1px solid #E5E4DF",
        "Shows Last updated: [timestamp] on left",
        "Shows Connected + green dot (#22863A) when connected",
        "Shows Reconnecting... + yellow pulsing dot when reconnecting",
        "Shows Connection lost + red dot + Reconnect link when disconnected",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 16,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Implement row update animations",
      "description": "As a user viewing the dashboard, I want visual feedback when data changes so that I notice real-time updates during the demo.",
      "acceptanceCriteria": [
        "When any row data updates, row background pulses yellow (#FEF3C7) to white over 400ms",
        "Pacing bar width transitions smoothly (500ms ease)",
        "Health dot color crossfades (300ms)",
        "New rows slide down from top (300ms)",
        "CSS keyframes animation named rowUpdate",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 17,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Build chat panel with message history",
      "description": "As a user on the chat page, I want a Claude.ai-style chat interface so that I can converse with the AI agent naturally.",
      "acceptanceCriteria": [
        "Chat panel: 40% width (min 400px), #FAF9F7 background",
        "User messages: right-aligned, #F5F4EF background, 18px radius",
        "Claude messages: left-aligned, no bubble, Claude avatar icon on left",
        "Messages max-width: 80% of chat panel",
        "Scrollable message history",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 18,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Build message input with send button",
      "description": "As a user on the chat page, I want an input field to send messages so that I can query the AI agent.",
      "acceptanceCriteria": [
        "Input: sticky at bottom, 52px height, 24px radius (pill shape)",
        "Placeholder: Message AdCP Agent...",
        "Send button: circular, #DA7756, inside input on right",
        "Enter key submits message",
        "Input clears after sending",
        "Disabled state while waiting for response",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 19,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Build artifact panel container",
      "description": "As a user on the chat page, I want an artifact panel that displays rich content so that I can see detailed reports and tables.",
      "acceptanceCriteria": [
        "Artifact panel: 60% width, #FFFFFF background",
        "Artifact container: 12px radius, 1px #E5E4DF border, subtle shadow",
        "Max-width: 800px, centered",
        "Header with icon and title (16px / 500 weight)",
        "Empty state: No artifact yet with subtitle Ask about media buys, products, or request a report",
        "Artifact persists until replaced by new artifact",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 20,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Implement table artifact rendering",
      "description": "As a user on the chat page, I want tables displayed beautifully in the artifact panel so that I can review campaign data.",
      "acceptanceCriteria": [
        "Table header: 12px uppercase, #5D5D5A",
        "Table rows: 14px, #1A1915, divider 1px #EEEEE8",
        "Includes pacing bars (6px height, colored by status)",
        "Includes health dots (10px, colored)",
        "Triggered by queries like Show all campaigns, List products",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 21,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-022",
      "title": "Implement report artifact rendering",
      "description": "As a user on the chat page, I want formatted reports in the artifact panel so that I can see analysis and recommendations.",
      "acceptanceCriteria": [
        "Report sections with headers",
        "Metrics displayed prominently",
        "Recommendations as bullet list",
        "Triggered by queries like Give me a performance report, Analyze performance",
        "Proper markdown rendering",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 22,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-023",
      "title": "Add Open Dashboard button",
      "description": "As a user on the chat page, I want a button to open the dashboard so that I can set up the dual-monitor demo.",
      "acceptanceCriteria": [
        "Button in header area: Open Dashboard with external link icon",
        "Opens /dashboard in new browser window/tab",
        "Button style: Ghost button with #E5E4DF border",
        "Hover state: #F5F4EF background",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 23,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-024",
      "title": "Integrate Claude API with tool calling",
      "description": "As a developer, I need Claude API integration so that the chat interface can process natural language queries.",
      "acceptanceCriteria": [
        "Claude API client configured with Anthropic SDK",
        "System prompt defines AdCP agent role and available tools",
        "All 7 AdCP tools registered as Claude tools",
        "Tool calls routed to backend MCP server",
        "Responses streamed to chat (typing indicator while processing)",
        "Errors handled gracefully with user-friendly messages",
        "Typecheck passes"
      ],
      "priority": 24,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-025",
      "title": "Create useWebSocket hook for real-time sync",
      "description": "As a developer, I need a shared WebSocket hook so that both pages can receive real-time updates.",
      "acceptanceCriteria": [
        "Hook manages Socket.io connection lifecycle",
        "Handles initial_state event on connect",
        "Handles media_buy_updated, media_buy_created, feedback_submitted events",
        "Automatic reconnection with exponential backoff",
        "Returns connection status (connected, reconnecting, disconnected)",
        "Returns last update timestamp",
        "Typecheck passes"
      ],
      "priority": 25,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-026",
      "title": "Connect dashboard to WebSocket events",
      "description": "As a user viewing the dashboard, I want real-time updates so that I see changes when AI takes actions.",
      "acceptanceCriteria": [
        "Dashboard receives initial state on page load",
        "media_buy_updated event triggers row update animation",
        "media_buy_created event adds new row with animation",
        "feedback_submitted event updates metrics with animation",
        "Multiple dashboard windows all update simultaneously",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 26,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-027",
      "title": "Connect chat page to backend tools",
      "description": "As a developer, I need the chat page to call backend tools so that AI responses include real data.",
      "acceptanceCriteria": [
        "Chat sends tool calls to backend API endpoint",
        "Backend executes tool and returns result",
        "Tool results passed back to Claude for response generation",
        "DISCOVER tools return read-only data",
        "OPTIMIZE tools trigger WebSocket broadcasts",
        "Typecheck passes"
      ],
      "priority": 27,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-028",
      "title": "Test multi-client synchronization",
      "description": "As a demo presenter, I need multiple browser windows to stay synchronized so that the dual-monitor setup works flawlessly.",
      "acceptanceCriteria": [
        "Open chat page in Window 1",
        "Open dashboard in Window 2",
        "Execute Pause Germany for Apex Motors in chat",
        "Dashboard in Window 2 updates within 500ms",
        "Open third dashboard window - also receives updates",
        "Disconnect and reconnect - state remains consistent",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 28,
      "passes": false,
      "notes": ""
    }
  ]
}
